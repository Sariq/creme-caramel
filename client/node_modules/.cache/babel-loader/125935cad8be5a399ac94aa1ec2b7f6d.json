{"ast":null,"code":"var _dec,\n    _class,\n    _temp,\n    _jsxFileName = \"/Users/sariq/projects/us-dv/client/us-dv/src/application/application.js\";\n\nimport React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepContent from '@material-ui/core/StepContent';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport ApllicantInfo from \"./applicant-info/applicant-info\";\nimport \"./application.scss\";\nimport SupouseInfo from \"./spouse-info/spouse-info\";\nimport ScrollableTabsButtonAuto from \"./spouse-info/spouse-tabs/spouse-tabs\";\nimport ChildrenInfo from \"./children-info/children-info\";\nimport AddressContact from \"./address-contact/address-contact\";\nimport { inject, observer } from \"mobx-react\";\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = theme => ({\n  root: {\n    width: '70%'\n  },\n  button: {\n    marginTop: theme.spacing(1),\n    marginRight: theme.spacing(1)\n  },\n  actionsContainer: {\n    marginBottom: theme.spacing(2)\n  },\n  resetContainer: {\n    padding: theme.spacing(3)\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  }\n});\n\nfunction getSteps() {\n  return ['Applicant Info', 'Spouse Info', 'Children Info', 'Address & Contact'];\n}\n\nlet VerticalLinearStepper = (_dec = inject('registrationStore', 'AuthStore'), _dec(_class = observer(_class = (_temp = class VerticalLinearStepper extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activeStep: 0\n    };\n\n    this.handleNext = () => {\n      if (this.state.activeStep === 0) {\n        if (this.props.registrationStore.applicationData.applicantInfo.childrenNumber > 0) {\n          Array.from(new Array(parseInt(this.props.registrationStore.applicationData.applicantInfo.childrenNumber, 10)), (v, i) => {\n            this.props.registrationStore.applicationData.childrenInfo.push({});\n            this.childrenTabs.push({\n              title: `Child ${i + 1}`,\n              cmp: React.createElement(ChildrenInfo, {\n                handleDataChange: (attr, val, index) => this.handleChildrenDataChange(attr, val, index),\n                props: this.props,\n                index: i,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 60\n                },\n                __self: this\n              })\n            });\n          });\n          this.steps.push({\n            title: 'Children Info',\n            cmp: React.createElement(ScrollableTabsButtonAuto, {\n              tabs: this.childrenTabs,\n              handleDataChange: (attr, val) => this.handleSpouseDataChange(attr, val),\n              props: this.props,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 63\n              },\n              __self: this\n            })\n          });\n        }\n      }\n\n      console.log(this.state.activeStep + 1 === this.steps.length); //if (this.state.activeStep + 1 === this.steps.length) {\n\n      this.props.registrationStore.sendApplication().then(() => {\n        this.setState({\n          activeStep: this.state.activeStep + 1\n        });\n      }); //}\n    };\n\n    this.handleBack = () => {\n      this.setState({\n        activeStep: this.state.activeStep - 1\n      });\n    };\n\n    this.handleReset = () => {\n      this.setState({\n        activeStep: 0\n      });\n    };\n\n    this.spouseTabs = [{\n      title: \"Basic\",\n      cmp: React.createElement(ApllicantInfo, {\n        obj: \"spouseInfo\",\n        handleDataChange: (attr, val) => this.handleSpouseDataChange(attr, val),\n        props: this.props,\n        index: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })\n    }, {\n      title: \"Passport And Photo\",\n      cmp: React.createElement(SupouseInfo, {\n        handleDataChange: (attr, val) => this.handleSpouseDataChange(attr, val),\n        props: this.props,\n        index: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })\n    }];\n    this.childrenTabs = [];\n    this.steps = [{\n      title: 'Applicant Info',\n      cmp: React.createElement(ApllicantInfo, {\n        obj: \"applicantInfo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })\n    }, {\n      title: 'Spouse Info',\n      cmp: React.createElement(ScrollableTabsButtonAuto, {\n        tabs: this.spouseTabs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })\n    }, {\n      title: 'Address & Contact',\n      cmp: React.createElement(AddressContact, {\n        handleDataChange: (attr, val) => this.handleAddressContactDataChange(attr, val),\n        props: this.props,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      })\n    }];\n  }\n\n  handleApplicantDataChange(attr, value) {\n    this.props.registrationStore.applicationData.applicantInfo[attr] = value;\n  }\n\n  handleSpouseDataChange(attr, value) {\n    this.props.registrationStore.applicationData.spouseInfo[attr] = value;\n  }\n\n  handleAddressContactDataChange(attr, value) {\n    this.props.registrationStore.applicationData.addressContact[attr] = value;\n  }\n\n  handleChildrenDataChange(attr, value, index) {\n    this.props.registrationStore.applicationData.childrenInfo[index][attr] = value;\n  }\n\n  componentDidMount() {\n    this.props.registrationStore.initApplicationData();\n  }\n\n  logOut() {\n    this.props.AuthStore.logOut().then(() => this.props.history.push('/login-page'));\n  }\n\n  getStepContent(step) {\n    return this.steps[step];\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n\n    if (!this.props.AuthStore.authData) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"xx\");\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"header-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      position: \"absolute\",\n      color: \"default\",\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Toolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h6\",\n      color: \"inherit\",\n      noWrap: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"USA-DV    \", this.props.AuthStore.authData && this.props.AuthStore.authData.user.userData.registrationData.firstName, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: () => this.logOut(),\n      className: classes.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Logout\")))))), React.createElement(\"div\", {\n      className: \"application-stepper-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.props.registrationStore.registerInProgress && React.createElement(Backdrop, {\n      className: classes.backdrop,\n      open: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(CircularProgress, {\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), JSON.stringify(this.props.registrationStore.applicationData), React.createElement(Stepper, {\n      activeStep: this.state.activeStep,\n      orientation: \"vertical\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.steps.map((step, index) => React.createElement(Step, {\n      key: step.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(StepLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, step.title), React.createElement(StepContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, this.getStepContent(index).cmp), React.createElement(\"div\", {\n      className: \"actions-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Button, {\n      disabled: this.state.activeStep === 0,\n      onClick: this.handleBack,\n      className: classes.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Back\"), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.handleNext,\n      className: classes.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, this.state.activeStep === this.steps.length - 1 ? 'Finish' : 'Next'))))))), this.state.activeStep === this.steps.length && React.createElement(Paper, {\n      square: true,\n      elevation: 0,\n      className: classes.resetContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"All steps completed - you're finished\"), React.createElement(Button, {\n      onClick: this.handleReset,\n      className: classes.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Reset\"))));\n  }\n\n}, _temp)) || _class) || _class);\nexport default withStyles(useStyles)(VerticalLinearStepper);","map":{"version":3,"sources":["/Users/sariq/projects/us-dv/client/us-dv/src/application/application.js"],"names":["React","Component","makeStyles","Stepper","Step","StepLabel","StepContent","Button","Paper","Typography","ApllicantInfo","SupouseInfo","ScrollableTabsButtonAuto","ChildrenInfo","AddressContact","inject","observer","withStyles","AppBar","Toolbar","Backdrop","CircularProgress","useStyles","theme","root","width","button","marginTop","spacing","marginRight","actionsContainer","marginBottom","resetContainer","padding","backdrop","zIndex","drawer","color","getSteps","VerticalLinearStepper","state","activeStep","handleNext","props","registrationStore","applicationData","applicantInfo","childrenNumber","Array","from","parseInt","v","i","childrenInfo","push","childrenTabs","title","cmp","attr","val","index","handleChildrenDataChange","steps","handleSpouseDataChange","console","log","length","sendApplication","then","setState","handleBack","handleReset","spouseTabs","handleAddressContactDataChange","handleApplicantDataChange","value","spouseInfo","addressContact","componentDidMount","initApplicationData","logOut","AuthStore","history","getStepContent","step","render","classes","authData","user","userData","registrationData","firstName","registerInProgress","JSON","stringify","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport StepContent from '@material-ui/core/StepContent';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport ApllicantInfo from \"./applicant-info/applicant-info\"\nimport \"./application.scss\"\nimport SupouseInfo from \"./spouse-info/spouse-info\"\nimport ScrollableTabsButtonAuto from \"./spouse-info/spouse-tabs/spouse-tabs\"\nimport ChildrenInfo from \"./children-info/children-info\"\nimport AddressContact from \"./address-contact/address-contact\"\nimport { inject, observer } from \"mobx-react\";\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nconst useStyles = (theme => ({\n    root: {\n        width: '70%',\n    },\n    button: {\n        marginTop: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    actionsContainer: {\n        marginBottom: theme.spacing(2)\n    },\n    resetContainer: {\n        padding: theme.spacing(3),\n    },\n    backdrop: {\n        zIndex: theme.zIndex.drawer + 1,\n        color: '#fff',\n      }\n}));\n\nfunction getSteps() {\n    return ['Applicant Info', 'Spouse Info', 'Children Info', 'Address & Contact'];\n}\n\n\n@inject('registrationStore', 'AuthStore')\n@observer\nclass VerticalLinearStepper extends Component {\n    //steps = getSteps();\n\n    state = {\n        activeStep: 0\n    };\n    handleNext = () => {\n        if (this.state.activeStep === 0) {\n            if (this.props.registrationStore.applicationData.applicantInfo.childrenNumber > 0) {\n                Array.from(new Array(parseInt(this.props.registrationStore.applicationData.applicantInfo.childrenNumber, 10)), (v, i) => {\n                    this.props.registrationStore.applicationData.childrenInfo.push({})\n                    this.childrenTabs.push({ title: `Child ${i + 1}`, cmp: <ChildrenInfo handleDataChange={(attr, val, index) => this.handleChildrenDataChange(attr, val, index)} props={this.props} index={i} /> })\n                });\n                this.steps.push({\n                    title: 'Children Info', cmp: <ScrollableTabsButtonAuto\n                        tabs={this.childrenTabs}\n                        handleDataChange={(attr, val) => this.handleSpouseDataChange(attr, val)} props={this.props} />\n                })\n\n            }\n        }\n        console.log(this.state.activeStep + 1 === this.steps.length)\n        //if (this.state.activeStep + 1 === this.steps.length) {\n        this.props.registrationStore.sendApplication().then(() => {\n            this.setState({ activeStep: this.state.activeStep + 1 });\n        });\n        //}\n\n    };\n    handleBack = () => {\n        this.setState({ activeStep: this.state.activeStep - 1 });\n    };\n\n\n    handleReset = () => {\n        this.setState({ activeStep: 0 });\n    };\n\n    handleApplicantDataChange(attr, value) {\n        this.props.registrationStore.applicationData.applicantInfo[attr] = value;\n    }\n    handleSpouseDataChange(attr, value) {\n        this.props.registrationStore.applicationData.spouseInfo[attr] = value;\n    }\n    handleAddressContactDataChange(attr, value) {\n        this.props.registrationStore.applicationData.addressContact[attr] = value;\n    }\n    handleChildrenDataChange(attr, value, index) {\n        this.props.registrationStore.applicationData.childrenInfo[index][attr] = value;\n    }\n    componentDidMount() {\n        this.props.registrationStore.initApplicationData()\n    }\n    logOut() {\n        this.props.AuthStore.logOut().then(() => this.props.history.push('/login-page'))\n    }\n    spouseTabs = [\n        { title: \"Basic\", cmp: <ApllicantInfo obj=\"spouseInfo\" handleDataChange={(attr, val) => this.handleSpouseDataChange(attr, val)} props={this.props} index={0} /> },\n        { title: \"Passport And Photo\", cmp: <SupouseInfo handleDataChange={(attr, val) => this.handleSpouseDataChange(attr, val)} props={this.props} index={1} /> }\n    ]\n    childrenTabs = [\n    ]\n    steps = [\n        { title: 'Applicant Info', cmp: <ApllicantInfo obj=\"applicantInfo\" /> },\n        {\n            title: 'Spouse Info', cmp: <ScrollableTabsButtonAuto\n                tabs={this.spouseTabs}\n            />\n        },\n        { title: 'Address & Contact', cmp: <AddressContact handleDataChange={(attr, val) => this.handleAddressContactDataChange(attr, val)} props={this.props} /> }\n    ]\n    getStepContent(step) {\n        return this.steps[step]\n    }\n\n    render() {\n        const { classes } = this.props;\n        if(!this.props.AuthStore.authData){\n            return <div>xx</div>\n        }\n        return (\n            <>\n                <div className=\"header-container\">\n                    <AppBar position=\"absolute\" color=\"default\" className=\"header\">\n                        <Toolbar>\n                            <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                                USA-DV    {this.props.AuthStore.authData && this.props.AuthStore.authData.user.userData.registrationData.firstName}\n                                {/* {JSON.stringify(this.props.registrationStore.registrationData)} */}\n                                <div><Button\n                                    onClick={() => this.logOut()}\n                                    className={classes.button}\n                                >\n                                    Logout\n                                </Button>\n                                </div>\n                            </Typography>\n                        </Toolbar>\n                    </AppBar>\n                </div>\n                <div className=\"application-stepper-container\">\n                    {this.props.registrationStore.registerInProgress && <Backdrop className={classes.backdrop} open={true}>\n                        <CircularProgress color=\"inherit\" />\n                    </Backdrop>}\n                    {JSON.stringify(this.props.registrationStore.applicationData)}\n\n                    <Stepper activeStep={this.state.activeStep} orientation=\"vertical\">\n                        {this.steps.map((step, index) => (\n                            <Step key={step.title}>\n                                <StepLabel>{step.title}</StepLabel>\n                                <StepContent>\n                                    <div>{this.getStepContent(index).cmp}</div>\n                                    <div className=\"actions-container\">\n                                        <div>\n                                            <Button\n                                                disabled={this.state.activeStep === 0}\n                                                onClick={this.handleBack}\n                                                className={classes.button}\n                                            >\n                                                Back\n                  </Button>\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"primary\"\n                                                onClick={this.handleNext}\n                                                className={classes.button}\n                                            >\n                                                {this.state.activeStep === this.steps.length - 1 ? 'Finish' : 'Next'}\n                                            </Button>\n                                        </div>\n                                    </div>\n                                </StepContent>\n                            </Step>\n                        ))}\n                    </Stepper>\n                    {this.state.activeStep === this.steps.length && (\n                        <Paper square elevation={0} className={classes.resetContainer}>\n                            <Typography>All steps completed - you&apos;re finished</Typography>\n                            <Button onClick={this.handleReset} className={classes.button}>\n                                Reset\n          </Button>\n                        </Paper>\n                    )}\n                </div>\n            </>\n        )\n    };\n}\nexport default withStyles(useStyles)(VerticalLinearStepper);\n"]},"metadata":{},"sourceType":"module"}